tasks:
  install-deps:
    name: Install Dependencies
    description: Install and build all packages
    command: |
      cd shared && npm ci && npm run build
      cd ../backend && npm ci
      cd ../extension && npm ci && npm run build
    triggeredBy:
      - postDevcontainerStart

  ci:
    name: CI Check
    description: Run typecheck, lint, and tests
    command: |
      npm run check
    triggeredBy:
      - manual

services:
  oko-backend:
    name: Oko Backend
    description: Browser automation API server (port 8129)
    commands:
      start: |
        cd backend && npm start
      ready: |
        curl -sf http://localhost:8129/api/health
