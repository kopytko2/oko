tasks:
  install-deps:
    name: Install Dependencies
    command: |
      cd backend && npm ci
      cd ../extension && npm ci
    triggeredBy:
      - postDevcontainerStart

  ci:
    name: CI Check
    description: Run typecheck and tests
    command: |
      cd extension && npm run ci

services:
  oko-backend:
    name: Oko Backend
    description: Browser automation API server
    commands:
      start: |
        cd backend && npm start
      ready: |
        curl -s http://localhost:8129/api/health > /dev/null 2>&1
    triggeredBy:
      - postDevcontainerStart
